#ifndef __MYEVENTCONSTANTS_H__
#define __MYEVENTCONSTANTS_H__
/// constants of MyEvent
#define SQR(x) ((x) * (x))
#define INIT_HIST(dim, h, ...) \
    h = new TH##dim##D(#h, #h, __VA_ARGS__);

#define INIT_HISTOS(dim, h, n, ...)                         \
    for (int i = 0; i < n; ++i)                             \
    {                                                       \
        char buffer[128] = {0};                             \
        sprintf(buffer, #h "_%d", i);                       \
        h[i] = new TH##dim##D(buffer, buffer, __VA_ARGS__); \
    }

#define INIT_HISTOS_2N(dim, h, n, k, ...)                          \
    for (int i = 0; i < n; ++i)                                    \
    {                                                              \
        for (int j = 0; j < k; j++)                                \
        {                                                          \
            char buffer[128] = {0};                                \
            sprintf(buffer, #h "_%d_%d", i, j);                    \
            h[i][j] = new TH##dim##D(buffer, buffer, __VA_ARGS__); \
        }                                                          \
    }

#define N_ARM 2
#define total_vtx_layers 8
#define nvtx_layers 4
#define N_centr 5
#define N_rg 7
#define N_dynamic 24

#define MIX_CENTBIN 10
#define MIX_ZVTXBIN 10 
#define MIX_RP2BIN 4
#define pool_depth 50

const float pi = 3.14159265358979323846;
const float me2 = 2.61121e-7;

const float mscale = 0.97;

const int  N_rg_beam_offset = 12;
const int RunBoarders[13] = {405835, 406541, 408185, 408327, 409446, 410113, 410925, 411562, 411655, 411768, 413442, 414435, 414988};

const float fXoffset[2][12] = {
    {-0.202646, -0.202646, -0.180873, -0.209632, -0.209632, -0.209632, -0.209632, -0.17643, -0.17643, -0.183436, -0.170063, -0.195402},
    {0.124363, 0.1265, 0.146827, 0.146827, 0.134759, 0.170582, 0.116049, 0.116049, 0.116049, 0.116049, 0.201941, 0.201941},
};

const float fYoffset[2][12] = {
    {-0.0199854, -0.0199854, -0.016651, -0.00584752, -0.00584752, -0.00584752, -0.00584752, -0.00450546, -0.00450546, -0.00298656, -0.0110999, -0.00396808},
    {0.0777555, 0.0801124, 0.074096, 0.074096, 0.0746321, 0.0852463, 0.0880725, 0.0880725, 0.0880725, 0.0880725, 0.083792, 0.083792},
};

const float fVTXXoffset[8] = {0.322, 0.343, 0.337, 0.346, 0.354, 0.350, 0.350, 0.350};
const float fVTXYoffset[8] = {0.0352, 0.03712, 0.0420, 0.0461, 0.0454, 0.0450, 0.0450, 0.0450};

const float ToT_offset[2] = {-0.003,0.006};

const float dilep_par0_phi[N_ARM] = {-0.002988, 0.001341};
const float dilep_par1_phi[N_ARM] = {-0.012395, -0.005118};
const float dilep_par2_phi[N_ARM] = {-0.015582, 0.009318};

const float dilep_par0_theta[N_ARM][10] = {{-0.021069, -0.014197, -0.011367, -0.007547, -0.013311, -0.021897, -0.035560, -0.031717, -0.013401, -0.032010}, {0.039102, 0.012262, -0.002676, 0.016520, 0.000141, 0.032950, 0.031889, 0.012795, 0.017084, 0.008524}};
const float dilep_par1_theta[N_ARM][10] = {{-0.009336, -0.008532, -0.009411, -0.009225, -0.007298, -0.007153, -0.008014, -0.008963, -0.008799, -0.009921}, {-0.008559, -0.009898, -0.009688, -0.010004, -0.008944, -0.008177, -0.007762, -0.009938, -0.011261, -0.012498}};
const float dilep_par2_theta[N_ARM][10] = {{0.017248, 0.010177, 0.007039, 0.003201, 0.008813, 0.016531, 0.030555, 0.027331, 0.009183, 0.028588}, {-0.031952, -0.005881, 0.009267, -0.009857, 0.006383, -0.025689, -0.025197, -0.006265, -0.010365, 0.000195}};

const float phi_offset_params[8][2][2][3] = {
    {
        {
            {-0.005928, -0.000366, -0.003986},
            {-0.006396, -0.000353, -0.005492},
        },
        {
            {0.00112, 8.4e-05, 0.008172},
            {0.002122, -0.001268, 0.006724},
        },
    },
    {
        {
            {-0.005972, 0.000268, -0.003444},
            {-0.006314, -0.000662, -0.005777},
        },
        {
            {0.001337, -0.000117, 0.008202},
            {0.002033, -0.001888, 0.007209},
        },
    },
    {
        {
            {-0.006267, 0.000648, -0.00316},
            {-0.006601, -0.000595, -0.005842},
        },
        {
            {0.001292, 0.000963, 0.007236},
            {0.001911, -0.002326, 0.007676},
        },
    },
    {
        {
            {-0.005518, -0.000249, -0.004065},
            {-0.005921, -0.001257, -0.006443},
        },
        {
            {0.001046, 0.000122, 0.008152},
            {0.001752, -0.001825, 0.007412},
        },
    },
    {
        {
            {-0.005591, 0.000378, -0.003473},
            {-0.006147, -0.000815, -0.006036},
        },
        {
            {0.000803, 0.000355, 0.007876},
            {0.000963, -0.002737, 0.008352},
        },
    },
    {
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
    },
    {
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
    },
    {
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
    },
};

const float the_offset_params[8][2][2][3] = {
    {
        {
            {-0.020486, -0.006349, 0.014433},
            {-0.019854, -0.005978, 0.013731},
        },
        {
            {0.017432, -0.005064, -0.011846},
            {0.016954, -0.006622, -0.011659},
        },
    },
    {
        {
            {-0.019741, -0.006363, 0.013674},
            {-0.02155, -0.005657, 0.015447},
        },
        {
            {0.020695, -0.005028, -0.014981},
            {0.018324, -0.006533, -0.012974},
        },
    },
    {
        {
            {-0.019997, -0.006558, 0.014072},
            {-0.020304, -0.005826, 0.014366},
        },
        {
            {0.016274, -0.005071, -0.010477},
            {0.018227, -0.00633, -0.012584},
        },
    },
    {
        {
            {-0.019861, -0.006332, 0.013926},
            {-0.019453, -0.005876, 0.013541},
        },
        {
            {0.016763, -0.004851, -0.010901},
            {0.01673, -0.006509, -0.011176},
        },
    },
    {
        {
            {-0.01892, -0.006233, 0.01299},
            {-0.022323, -0.005499, 0.016336},
        },
        {
            {0.019694, -0.005342, -0.013883},
            {0.019396, -0.006548, -0.013829},
        },
    },
    {
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
    },
    {
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
    },
    {
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
    },
};

const float phi_the_offset_params[8][2][2][3] = {
    {
        {
            {0.003466, -0.000457, -0.003448},
            {-0.002671, 0.000841, 0.002634},
        },
        {
            {-0.000978, 0.002327, 0.000931},
            {0.002559, 0.001175, -0.002513},
        },
    },
    {
        {
            {0.0032, -0.000362, -0.003193},
            {-0.000847, 0.00089, 0.000858},
        },
        {
            {-0.002788, 0.002617, 0.002823},
            {-0.000978, 0.001159, 0.001019},
        },
    },
    {
        {
            {0.000697, -0.000145, -0.000744},
            {-0.002063, 0.000759, 0.002009},
        },
        {
            {-0.003145, 0.002188, 0.00313},
            {-0.000628, 0.000712, 0.000624},
        },
    },
    {
        {
            {0.003121, -0.000207, -0.00309},
            {-0.000795, 0.000697, 0.000835},
        },
        {
            {-0.002296, 0.002595, 0.002294},
            {0.001439, 0.001252, -0.001404},
        },
    },
    {
        {
            {0.00151, -0.000399, -0.001542},
            {-0.000125, 0.000847, 0.000195},
        },
        {
            {-0.002091, 0.002432, 0.002152},
            {-0.001993, 0.001405, 0.001994},
        },
    },
    {
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
    },
    {
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
    },
    {
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
        {
            {0.001, 0.001, 0.001},
            {0.001, 0.001, 0.001},
        },
    },
};

const float res_rot_east = 0.001;
const float res_rot_west = -0.001;
const int N_steps = 1900;
const float step_size = 0.01;

const float radii[total_vtx_layers] = {2.64, 5.22, 10.41, 11.80, 12.90, 15.55, 16.74, 17.91};

const float sigma_DCA[1][1][3][3] = {
    {
        {
            {57.69, 219.761, -2.441},
            {59.223, 248.853, -1.92},
            {60.882, 353.445, -2.1},
        },
    },
};

const float mean_DCA[1][1][3][3] = {
    {
        {
            {6.71, 165.566, -1.94},
            {10.918, 148.468, -1.228},
            {8.95, 148.93, -1.005},
        },
    },
};

const float sigma_d_dphi[1][1][6][3] = {
    {
        {
            {0.001476, 0.006574, -3.832976},
            {0.001462, 0.0057, -3.565458},
            {0.002187, 0.00972, -2.629092},
            {0.002065, 0.009191, -2.536502},
            {0.002137, 0.010258, -1.955571},
            {0.002307, 0.010977, -2.265782},
        },
    },
};

const float mean_d_dphi[1][1][6][3] = {
    {
        {
            {0.000407, -0.000966, 0.001135},
            {0.000121, -0.000546, 0.000981},
            {0.000731, -0.001828, 0.002659},
            {0.000274, -0.001333, 0.002484},
            {0.000641, -0.001627, 0.00309},
            {0.000796, -0.002457, 0.003419},
        },
    },
};

const float sigma_d_dthe[1][1][6][3] = {
    {
        {
            {0.004931, 0.002855, -1.660459},
            {0.005138, 0.001882, -2.227082},
            {0.005223, 0.005676, -2.226182},
            {0.00546, 0.006492, -3.297423},
            {0.005266, 0.009499, -2.991179},
            {0.005291, 0.008732, -3.185921},
        },
    },
};

const float mean_d_dthe = 0;
////////1D dphi and dthe patam vs. pt///////
const float mean_theta_pars[1][5][4]=
{
    {
        {0.000816, 0.000568,0.000345, 0.000696},
        {0.000846, 0.00051,0.000276, 0.000716},
        {0.000847, 0.000655,0.000371, 0.000779},
        {0.001003, 0.000695,0.000273, 0.000869},
        {0.001003, 0.000695,0.000273, 0.000869},
    },
};

const float sigma_theta_pars[1][5][4][4]=
{
    {
        {
             {0.006191, 0.027695, -3.505841, -0.000296},
             {0.004716, 0.028914, -3.315475, -0.000467},
             {0.004836, 0.029182, -3.486469, -0.000518},
             {0.004303, 0.02913, -3.746132, -0.000568},
        },
        {
             {0.006127, 0.024433, -3.248, -0.000246},
             {0.004617, 0.026413, -3.112462, -0.000408},
             {0.004797, 0.025718, -3.268814, -0.000507},
             {0.004115, 0.023987, -3.330502, -0.000442},
        },
        {
             {0.00646, 0.025203, -3.398972, -0.000368},
             {0.004573, 0.024158, -2.991049, -0.000377},
             {0.005009, 0.024523, -3.271326, -0.000561},
             {0.004287, 0.023006, -3.329017, -0.000507},
        },
        {
             {0.008634, 0.023888, -4.135273, -0.00187},
             {0.006375, 0.016882, -2.91106, -0.001888},
             {0.005395, 0.022377, -3.202876, -0.001047},
             {0.003703, 0.024776, -3.262599, -7.9e-05},
        },
        {
             {0.008634, 0.023888, -4.135273, -0.00187},
             {0.006375, 0.016882, -2.91106, -0.001888},
             {0.005395, 0.022377, -3.202876, -0.001047},
             {0.003703, 0.024776, -3.262599, -7.9e-05},
        },
    },
};

const float mean_phi_pars[1][5][4]=
{
    {
        {-0.000228, -0.000203,-7.9e-05, -7.8e-05},
        {-0.000238, -0.000224,-0.000103, -7.5e-05},
        {-0.000227, -0.000204,-0.000118, -0.00011},
        {-0.000835, -0.000727,-0.000414, -0.0011},
        {-0.000835, -0.000727,-0.000414, -0.0011},
    },
};

const float sigma_phi_pars[1][5][4][4]=
{
    {
        {
             {0.005362, 0.025402, -3.264391, -0.000783},
             {0.004908, 0.024495, -3.20761, -0.000662},
             {0.005251, 0.027552, -3.570053, -0.00083},
             {0.004403, 0.023533, -3.535166, -0.000604},
        },
        {
             {0.004921, 0.022151, -2.922236, -0.000617},
             {0.004645, 0.021175, -2.88736, -0.000568},
             {0.004737, 0.022457, -3.150852, -0.000671},
             {0.004046, 0.01867, -2.976302, -0.00046},
        },
        {
             {0.004817, 0.02143, -2.852851, -0.000578},
             {0.004497, 0.019271, -2.743312, -0.000514},
             {0.004292, 0.019971, -2.864231, -0.00051},
             {0.003872, 0.01682, -2.939444, -0.000425},
        },
        {
             {-0.000144, 0.016051, -1.17172, 0.000892},
             {-0.002201, 0.017497, -1.09226, 0.001668},
             {0.00549, 0.016467, -3.017443, -0.001487},
             {0.006546, 0.025215, -5.318963, -0.002027},
        },
        {
             {-0.000144, 0.016051, -1.17172, 0.000892},
             {-0.002201, 0.017497, -1.09226, 0.001668},
             {0.00549, 0.016467, -3.017443, -0.001487},
             {0.006546, 0.025215, -5.318963, -0.002027},
        },
    },
};


const float veto_window_sigma_par0[3][2][2] = {{{0.0002732,0.0008276},{0.0008218,0.0002933},},{{0.00041,0.001677},{0.001626,0.000314},},{{0.001299,0.001982},{0.002024,0.000925},}};
const float veto_window_sigma_par1[3][2][2] = {{{0.008219,0.11697},{0.05595,0.01959}},{{0.00903,0.005199},{0.004186,0.01498}},{{0.01592,0.006797},{0.007108,0.009907}}};
const float veto_window_sigma_par2[3][2][2] = {{{-6.0461,-11.8997},{-10.3209,-7.5985}},{{-2.3919,-2.1199},{-1.6409,-2.8119}},{{-3.5943,-1.9312},{-1.9647,-2.5570}}};


const float veto_window_mean_par0[3][2][2] = {{{-0.001876, 0.003013},{-0.003025, 0.001911}},{{-0.004279, 0.006654},{-0.006633, 0.004403}},{{-0.006293, 0.009369},{-0.01025, 0.00720}}};
const float veto_window_mean_par1[3][2][2] = {{{-0.20232,0.06833},{-0.10529,0.03370}},{{-0.0252,0.0338},{-0.03311,0.02312}},{{-0.02067,0.05404},{-0.05873,0.02255}}};
const float veto_window_mean_par2[3][2][2] = {{{-9.1789,-8.58896},{-9.4364,-6.8837}},{{-2.1499,-1.9659},{-1.8537,-1.7946}},{{-1.5888,-1.7085},{-1.8974,-1.9511}}};


////////2D dphi and dthe patam vs. dphi and pt///////
const float phi_sigma_pt_params[1][8][3]=
{
    {
        {0.001258, 0.00388, -3.108172},
        {0.001259, 0.00389, -3.162876},
        {0.001207, 0.00671, -3.276039},
        {0.001249, 0.006758, -3.502469},
        {0.001289, 0.009517, -2.762675},
        {0.00123, 0.0088, -2.653196},
        {0.001183, 0.008294, -5.018492},
        {0.001212, 0.009256, -5.377755},
    },
};
const float phi_sigma_phi_params[1][8][3]=
{
    {
        {1.002601, 0.640418, -274.897374},
        {1.000945, -1.360583, -142.572484},
        {0.99929, 0.593643, 11.823185},
        {1.002593, -1.61017, 100.735007},
        {1.002872, -2.60676, 225.139321},
        {1.007411, 3.270938, -657.580765},
        {1.001559, -5.586294, 956.614554},
        {0.998656, 2.416963, 1263.49999},
    },
};
const float phi_mean_phi_params[1][8][2]=
{
    {
        {-0.000156, 1.017157},
        {0.000177, 1.012972},
        {-0.000666, 1.031567},
        {0.000361, 1.0357},
        {-0.001126, 1.121847},
        {0.000515, 1.115461},
        {-0.000487, 1.097072},
        {0.000168, 1.090081},
    },
};

const float the_sigma_pt_params[1][8][3]=
{
    {
        {0.004946, 0.002014, -5.125989},
        {0.005362, 0.001931, -3.97893},
        {0.003464, 0.004056, -2.197006},
        {0.003428, 0.003972, -2.127628},
        {0.003332, 0.008009, -3.002071},
        {0.003295, 0.007273, -2.896885},
        {0.003446, 0.002564, -2.196623},
        {0.003521, 0.002643, -2.256311},
    },
};
const float the_sigma_the_params[1][8][3]=
{
    {
        {1.007151, -0.591796, 552.035311},
        {1.000855, 0.718187, 121.993081},
        {0.999292, 1.171633, 305.741542},
        {0.999723, 1.083833, 332.983952},
        {1.001254, 2.197015, 346.954238},
        {1.00614, 7.533075, -148.924474},
        {0.999078, 0.304523, 385.827142},
        {0.998218, 3.029776, 582.773779},
    },
};
const float the_mean_the_params[1][8][2]=
{
    {
        {0.001149, 0.972018},
        {5.1e-05, 0.920578},
        {-9e-06, 0.816738},
        {-0.000122, 0.793639},
        {-0.00097, 0.895706},
        {0.000123, 0.938896},
        {-0.000517, 0.942006},
        {-0.000578, 0.908106},
    },
};

const float phi_sMean_pt_params[1][8][3] = {
    {
        {0.403966, -1.0, -1.560433},
        {-0.870531, 1.0, -0.23},
        {1.018804, -1.716258, -0.683762},
        {-1.002619, 1.827053, -0.689299},
        {1.275822, -2.0, -0.646717},
        {-1.196642, 2.0, -0.642842},
        {0.907515, -1.880429, -1.054792},
        {-0.880552, 1.614468, -0.911659},
    },
};

#endif